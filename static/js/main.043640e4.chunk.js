(this["webpackJsonpreact-weather-forecast-app"]=this["webpackJsonpreact-weather-forecast-app"]||[]).push([[0],{14:function(e,a,t){},15:function(e,a,t){},16:function(e,a,t){},17:function(e,a,t){},18:function(e,a,t){},19:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(4),o=t.n(r),l=(t(14),t(1)),s=(t(15),t(16),t(17),t(18),t(19),t(20),t(21),t(5)),i=t.n(s),m=function(e){var a=e.forecast,t={dots:!0,infinite:!1,vertical:!0,beforeChange:function(e,a){console.log("before change",e,a)},afterChange:function(e){console.log("after change",e)},slidesToShow:12,slidesToScroll:1};return c.a.createElement("div",{className:"forecast-section"},c.a.createElement("h1",{className:"forecast-title"},"Evolution of the weather in ",a.city.name," (3 hours forecast)"),c.a.createElement(i.a,t,a&&a.list.map((function(e){return c.a.createElement("div",{className:"forecast-box",key:e.id},c.a.createElement("div",{className:"day-forecast"},c.a.createElement("div",{className:"date"},e.dt_txt),c.a.createElement("div",{className:"temp"},Math.round(e.main.temp),"\xbaC"),c.a.createElement("div",null,c.a.createElement("img",{src:"".concat("https://openweathermap.org/img/w/").concat(e.weather[0].icon,".png"),alt:"weather-icon",className:"weather-icon"}),c.a.createElement("div",{className:"weather"},e.weather[0].main)),c.a.createElement("div",{className:"forecast-details-box"},c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Cloudiness:")," ",e.clouds.all,"%"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Humidity:")," ",e.main.humidity,"%"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Pressure:")," ",e.main.pressure," hPa"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Wind speed:")," ",e.wind.speed," meter/sec"))))}))))},u="https://api.openweathermap.org/data/2.5/";var p=function(e){var a=e.query,t=e.setQuery,n=e.setWeather,r=e.setForecast;return c.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search for a city",onChange:function(e){return t(e.target.value)},value:a,onKeyUp:function(e){return function(e){if(""!==e){try{fetch("".concat(u).concat("weather?","q=").concat(e,"&units=metric&appid=").concat("36dc0a11010bf6f35af6d8551ab26296")).then((function(e){return e.json()})).then((function(e){n(e),console.log(e)}))}catch(a){console.log(a)}fetch("".concat(u).concat("forecast?","q=").concat(e,"&units=metric&appid=").concat("36dc0a11010bf6f35af6d8551ab26296")).then((function(e){return e.json()})).then((function(e){r(e),console.log(e)}))}}(e.target.value)}})};var d=function(e){var a=e.weather,t=new Date,n=a.timezone+60*t.getTimezoneOffset(),r=new Date(t.setUTCSeconds(n)),o=r.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=r.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"});return c.a.createElement("div",{className:"date-box"},c.a.createElement("p",{className:"date"},o),c.a.createElement("p",{className:"time"},l))};var h=function(e){var a=e.weather;return c.a.createElement("div",{className:"weather-section"},c.a.createElement("div",{className:"location"},a.name,", ",a.sys.country),c.a.createElement(d,{weather:a}),c.a.createElement("div",{className:"weather-box"},c.a.createElement("div",{className:"weather-temp-box"},c.a.createElement("h2",null,"Temperature"),c.a.createElement("div",{className:"temp"},c.a.createElement("p",null,Math.round(a.main.temp),"\xbaC"),c.a.createElement("p",{className:"feels-like"},"Feels like: ",Math.round(a.main.feels_like),"\xbaC")),c.a.createElement("div",{className:"temp-variation"},c.a.createElement("p",null,"Min: ",Math.round(a.main.temp_min),"\xbaC"),c.a.createElement("p",null,"Max: ",Math.round(a.main.temp_max),"\xbaC"))),c.a.createElement("div",{className:"weather-main-box"},c.a.createElement("div",{className:"weather"},a.weather[0].main),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,a.weather[0].description))),c.a.createElement("div",{className:"weather-details-box"},c.a.createElement("h2",null,"Details"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Cloudiness:")," ",a.clouds.all,"%"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Humidity:")," ",a.main.humidity,"%"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Pressure:")," ",a.main.pressure," hPa"),c.a.createElement("p",{className:"description"},c.a.createElement("strong",null,"Wind speed:")," ",a.wind.speed," meter/sec"))))},f="36dc0a11010bf6f35af6d8551ab26296";var E=function(e){var a=e.setWeather,t=e.setForecast;Object(n.useEffect)((function(){r()}),[]);var r=function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition((function(e){var n;n={lat:e.coords.latitude,lon:e.coords.longitude},fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("weather?","lat=").concat(n.lat,"&lon=").concat(n.lon,"&units=metric&appid=").concat(f)).then((function(e){return e.json()})).then((function(e){a(e),console.log(e)})),fetch("".concat("https://api.openweathermap.org/data/2.5/").concat("forecast?","lat=").concat(n.lat,"&lon=").concat(n.lon,"&units=metric&appid=").concat(f)).then((function(e){return e.json()})).then((function(e){t(e),console.log(e)}))}))}else alert("Sorry, your browser does not support geolocation!")};return c.a.createElement("button",{className:"geolocation",onClick:r},"Use Current Location")},g=function(e){var a=e.src;return c.a.createElement("iframe",{className:"webcam-video",frameBorder:"0",height:"200",src:a})};var v=function(e){var a=e.webcam;return c.a.createElement("div",{className:"webcam-card"},c.a.createElement("div",{className:"webcam-title"},a.title),c.a.createElement(g,{src:1==a.player.live.available?"".concat(a.player.live.embed,"+?autoplay=1"):"".concat(a.player.day.embed,"+?autoplay=1")}),c.a.createElement("div",{className:"webcam-city"},"Location: ",a.location.city),c.a.createElement("p",{className:"webcam-region"},a.location.region,", ",a.location.country))};var w=function(e){var a=e.weather,t=e.webcams,r=e.setWebcams;Object(n.useEffect)((function(){""!=a.main&&s()}),[]);var o={dots:!0,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!0,cssEase:"linear",responsive:[{breakpoint:1200,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:830,settings:{slidesToShow:1,slidesToScroll:1}}]},l={lat:a.coord.lat,lng:a.coord.lon,radius:50},s=function(){try{fetch("".concat("https://api.windy.com/api/webcams/v2/list/","nearby=").concat(l.lat,",").concat(l.lng,",").concat(l.radius,"/category=meteo/orderby=distance,desc/limit=20?show=webcams:location,image,player&key=").concat("EHcQzfGryyJ6uGtCLdUEUlfcse5aW9N8")).then((function(e){return e.json()})).then((function(e){console.log(e),r(e)}))}catch(e){console.log(e)}};return c.a.createElement("div",{className:"webcam-section"},c.a.createElement("div",{className:"webcam-header"},c.a.createElement("h2",null,"Watch live Weather around ",c.a.createElement("strong",null,a.name)," ","(< 50km)"),c.a.createElement("button",{onClick:s},"Update Webcams")),"undefined"!=typeof t.result?c.a.createElement("div",{className:"webcams-list"},c.a.createElement(i.a,o,t&&t.result.webcams.map((function(e){return c.a.createElement(v,{webcam:e,key:e.id})})))):"")};var b=function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)([]),f=Object(l.a)(d,2),g=f[0],v=f[1],b=Object(n.useState)([]),y=Object(l.a)(b,2),N=y[0],S=y[1];return c.a.createElement("div",{className:"undefined"!=typeof i.main?function(e){var a=["app clouds","app clouds1","app clouds2","app clouds3","app clouds4","app clouds5"],t=["app rain","app rain1","app rain2","app rain3","app rain4","app rain5","app rain6","app rain7","app rain8","app rain9","app rain10"],n=["app clear","app clear1","app clear2","app clear3"],c=["app fog","app fog1"],r=["app thunderstorm","app thunderstorm1","app thunderstorm2"];switch(e){case"Clouds":return a[Math.floor(Math.random()*a.length)];case"Clear":return n[Math.floor(Math.random()*n.length)];case"Rain":return t[Math.floor(Math.random()*t.length)];case"Fog":return c[Math.floor(Math.random()*c.length)];case"Snow":return"app snow";case"Thunderstorm":return r[Math.floor(Math.random()*r.length)];default:return"app;"}}(i.weather[0].main):"app"},c.a.createElement("main",null,c.a.createElement("div",{className:"search-box"},c.a.createElement(p,{query:t,setQuery:r,setWeather:u,setForecast:v}),c.a.createElement(E,{setWeather:u,setForecast:v})),"undefined"!=typeof i.main?c.a.createElement(h,{weather:i}):"","undefined"!=typeof i.main?c.a.createElement(w,{weather:i,webcams:N,setWebcams:S}):"","undefined"!=typeof g.list?c.a.createElement(m,{forecast:g}):""!==i?c.a.createElement("div",{className:"error-message"},c.a.createElement("h2",null,"Sorry but we could not find any weather forecast."),c.a.createElement("h3",null,"Please try again with another location")):""))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root"))},9:function(e,a,t){e.exports=t(37)}},[[9,1,2]]]);
//# sourceMappingURL=main.043640e4.chunk.js.map